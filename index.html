<div style="border: 1px solid #ccc; padding: 10px; width: 250px;">
    <h3>Duolingo Stats</h3>
    <p>üî• Streak: <span id="streak">Loading...</span></p>
    <p>‚≠ê XP: <span id="xp">Loading...</span></p>
</div>

<script>
async function getDuolingoStats() {
    let username = "B2m76knq"; // Change this to your Duolingo username
    let proxy = "https://api.allorigins.win/get?url=";
    let url = `https://duome.eu/${username}/progress`;

    try {
        let response = await fetch(proxy + encodeURIComponent(url));
        let data = await response.json();
        let text = data.contents; // Get HTML content

        // Extract streak from the HTML
        let streakMatch = text.match(/üî• (\d+) day streak/);
        let streak = streakMatch ? streakMatch[1] : "N/A";

        document.getElementById("streak").innerText = streak;
        document.getElementById("xp").innerText = "XP not available"; // XP needs custom parsing

    } catch (error) {
        console.error("Failed to fetch Duolingo stats:", error);
        document.getElementById("streak").innerText = "Error";
        document.getElementById("xp").innerText = "Error";
    }
}

getDuolingoStats();
</script>
